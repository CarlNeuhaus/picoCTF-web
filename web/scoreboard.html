---
layout: default
title: Scoreboard
post_scripts:
 - js/progression_graphs.js
 - js/scoreboard.js
startup_functions:
---

<script type="text/template" id="scoreboard-teamscore-template">
  <div class="pull-right">
    <h3>Score: <strong><%= teamscore%></strong></h3>
  </div>
</script>

<script type="text/template" id="scoreboard-tabs-template">
  <ul class="nav nav-tabs" id="scoreboard-tabs">
    <% if(data.groups.length > 0) { %>
      <% _.each(data.groups, function(group, index) { %>
        <% if (index == 0) { %>
          <li class="active" data-gid="<%= group.gid %>"><a data-toggle="tab" href="#<%= group.gid %>" onClick="window.reloadGraph()"><%- group.name %></a></li>
        <% } else { %>
          <li data-gid="<%= group.gid %>"><a data-toggle="tab" href="#<%= group.gid %>" onClick="window.reloadGraph()"><%- group.name %></a></li>
        <% } %>
      <% }); %>
    <% } else { %>
      <li>No Classrooms</li>
    <% } %>
  </ul>
  <div class="tab-content">
    <% if (data.groups.length == 0) { %>
        <pre>
          <p class="text-center">No classroom scoreboards to display!</p>
        </pre>
    <% } else { %>
      <% _.each(data.groups, function(group, index) { %>
        <div id="<%= group.gid %>-progression" class="progression-graph"> </div>
        <% if (index == 0) { %>
          <div id="<%= group.gid %>" class="tab-pane fade in active">
            <%= renderScoreboard({scoreboard: group.scoreboard}) %>
          </div>
        <% } else { %>
          <div id="<%= group.gid %>" class="tab-pane fade">
            <%= renderScoreboard({scoreboard: group.scoreboard}) %>
          </div>
        <% } %>
      <% }); %>
    <% } %>
  </div>
</script>

<script type="text/template" id="scoreboard-template">
  <% if(!($.isEmptyObject(scoreboard))) { %>
    <table class="table" class="scoreboard-table">
      <thead>
        <tr>
          <th></th>
          <th>Team Name</th>
          <th>Affiliation</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody>
        <% _.each(scoreboard, function(team, i) { %>
          <tr>
            <td><%= i+1 %>.</td>
            <td><p><%- team.name %></p></td>
            <td><p><%- team.school %></p></td>
            <td><strong><p><%= team.score %></p></strong></td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  <% } else { %>
    <pre>
      <p class="text-center">No teams have scored any points yet.</p>
    </pre>
  <% } %>
</script>

<div class="container">
  <div id="scoreboard-teamscore"></div>
  <div id="scoreboard-tabs"></div>
</div>
